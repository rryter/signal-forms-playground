<div class="container">
  <h1>Signal Forms - Basic Example</h1>
  <p class="description">
    This example demonstrates the basic usage of Angular Signal Forms with
    simple validation.
  </p>

  <form (submit)="onSubmit()">
    <div class="form-group">
      <label for="name">Name</label>
      <input
        id="name"
        type="text"
        [field]="userForm.name"
        placeholder="Enter your name (min 3 characters)"
      />

      @if (userForm.name().touched() && formErrors().name.hasErrors === true) {
      <div class="error">
        {{ formErrors().name | json }}
      </div>
      }
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input
        id="email"
        type="email"
        [field]="userForm.email"
        placeholder="Enter your email"
      />
      @if (userForm.email().touched() && userForm.email().errors()) {
      <div class="error">
        <!-- @if (userForm.email().errors()?.['required']) {
            <span>Email is required</span>
          }
          @if (userForm.email().errors()?.['email']) {
            <span>Please enter a valid email</span>
          } -->
      </div>
      }
    </div>

    <div class="form-group">
      <label for="message">Message</label>
      <textarea
        id="message"
        [field]="userForm.message"
        rows="4"
        placeholder="Enter your message (min 10 characters)"
      ></textarea>
      @if (userForm.message().touched() && userForm.message().errors()) {
      <div class="error">
        @if (userForm.message().errors()) {
        <span>{{ userForm.message().errors() | json }}</span>
        }
      </div>
      }
    </div>

    <div class="form-group">
      <label for="country">Country</label>
      <input
        id="country"
        [field]="userForm.country"
        placeholder="Enter your country"
      />
      @if (userForm.country().touched() && userForm.country().errors()) {
      <div class="error">
        @if (userForm.country().errors()) {
        <span>{{ userForm.country().errors() | json }}</span>
        }
      </div>
      }
    </div>

    <div class="form-group">
      <label for="zipCode">Zip Code</label>
      <input
        id="zipCode"
        [field]="userForm.zipCode"
        placeholder="Enter your zip code"
      />
      @if (showZipcodeErrors() && userForm.zipCode().errors().length > 0) {
      <div class="error">
        @if (userForm.zipCode().errors()) {
        <span>{{ userForm.zipCode().errors() | json }}</span>
        }
      </div>
      }
    </div>

    <div class="form-actions">
      <button
        type="submit"
        [disabled]="userForm().invalid() || userForm().submitting()"
      >
        {{ userForm().submitting() ? "Submitting..." : "Submit" }}
      </button>

      <button
        type="button"
        (click)="userForm().reset()"
        [disabled]="userForm().submitting()"
      >
        Reset
      </button>
    </div>

    <div class="form-status">
      <p>
        <strong>Form Status:</strong>
        <span
          [class.valid]="userForm().valid()"
          [class.invalid]="userForm().invalid()"
        >
          {{ userForm().valid() ? "Valid" : "Invalid" }}
        </span>
      </p>
      <p><strong>Dirty:</strong> {{ userForm | json }}</p>
    </div>
  </form>
</div>
